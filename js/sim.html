<meta charset="utf-8"/>
<style type="text/css">
</style>

<title>Microcode simulator</title>
<p>
<!--
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
-->
<script src="jquery.min.js"></script>
<script src="decode.js"></script>
<script src="sim.js"></script>
<style type="text/css">
#wrapper { position:relative; width:800px; height: 800px;}
.layer { position:absolute; top: 0px; left: 0px; width:800px; height: 800px;}
.elt { position:absolute; font-size: 80%; font-family: sans-serif; text-align:center;}
.elt div { font-size: 120%; font-family: monospace; border: 1px solid #ccc;}
.elt div div { border: none;}
.label { position:absolute; font-family: monospace}
.hilite { background-color: yellow; }
</style>
</head>
<body>
<button id="control">Stop</button>
<button id="step">Step</button>
<br/>
<div id="wrapper">
  <canvas class="layer" style="z-index:-1; border: 1px solid #eee" id="can"></canvas>
  <div id="data" class="layer">
    <div id="LSFRc" class="elt" style="top:10px;left:300px;">LSFR
      <div id="LSFR">3</div>
    </div>
    <div id="Jc" class="elt" style="top:100px;left:100px;">J
      <div id="L">3</div>
    </div>
    <div id="LSARc" class="elt" style="top:100px;left:100px;">LSAR
      <div id="LSAR">13</div>
    </div>
    <div id="LSc" class="elt" style="top:20px;left:150px;min-width:48;">Local Storage
      <div style="border: 1px solid #ccc">
        <div id="LSAR0">L123</div>
        <div id="LSAR1">L123</div>
        <div id="LSAR2">L123</div>
        <div id="LSAR3">L123</div>
      </div>
    </div>
    <div id="PSWc" class="elt" style="top:220px;left:100px;min-width:4em;"><span>PSW</span>
      <div>MK K AMWP ILC CC  Prog Mask</div>
      <div id="PSW">00 1   2  3   4     5</div>
    </div>
    <div id="Lc" class="elt" style="top:100px;left:100px;min-width:4em;"><span>L Register</span>
      <div id="L">L123</div>
    </div>
    <div id="Rc" class="elt" style="top:100px;left:150px;min-width:4em;">R Register
      <div id="R">L123</div>
    </div>
    <div id="MDc" class="elt" style="top:100px;left:200px;min-width:1em;">MD
      <div id="MD">3</div>
    </div>
    <div id="Fc" class="elt" style="top:100px;left:250px;min-width:1em;">F
      <div id="F">3</div>
    </div>
    <div id="Qc" class="elt" style="top:100px;left:300px;min-width:1em;">Q
      <div id="Q">3</div>
    </div>
    <div id="Mc" class="elt" style="top:100px;left:350px;min-width:1em;">M
      <div id="M">00112233</div>
    </div>
    <div id="Hc" class="elt" style="top:100px;left:400px;min-width:1em;">H
      <div id="H">00112233</div>
    </div>

    <div class="elt" style="text-align:left; top:300px;left:350px;display:block;white-space:pre;">Microcode
    <div id="div2"/></div>
  </div>
</div>
<pre id="div"></pre>
